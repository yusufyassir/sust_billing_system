 void serchrec() {     /**      * Search function      * Either using name or number or class      * No arguments passed      */     char name[50];     char state = 'y';     int choice, class;     // to choose the way of searching     system("cls");     printf("***********************************************\n");     printf("***********************************************\n");     printf("**********      Search for records     **********\n");     printf("***********************************************\n");     printf("***********************************************\n");     while ((state == 'y' || state == 'Y'))     {         printf("\t\t1:: Search using name\n");         printf("\t\t2:: Search using class\n");         printf("\t\t3:: Exit\n");         printf("\t\t Enter your choice\n");         fflush(stdin);         scanf("%d", &choice);         if (i == 1)         {             switch (choice)             {             case 3:                 exit(0);                 break;             case 1:                 printf("Enter student name \n");                 fflush(stdin);                 scanf("%s", name);                 st = fopen("student.bin", "rb+");                 while (fread(&st1, sizeof(st1), 1, st) == 0)                 {                     if (strcmpi(name, st1.name) == 0)                     {                         printf("Record found \n");                         return (0);                     }                     printf("Record not found \n");                     return (0);                 }                 fflush(stdin);                 fclose(st);                 break;             case 2:                 printf("\tEnter Class of the student \n");                 fflush(stdin);                 class = getc(stdin);                 st = fopen("student.bin", "rb+");                 if (st == NULL)                 {                     printf("Error opening the file!\n");                     break;                 }                 while (fread(st1.Class, sizeof(st1), 1, st) == 1)                 {                     if (strcmpi(st1.Class, class) == 0)                     {                         printf("Found in class %d \n", st1.Class);                     }                 }                 printf("Student not found \n");                 fclose(st);                 break;             }             printf("enter ( y / Y ) to continue and (q) to exit: ");             fflush(stdin);             state = getc(stdin);         }         if (i == 2)         {             switch (choice)             {             case 3:                 exit(0);                 break;             case 1:                 printf("Enter teacher name \n");                 fflush(stdin);                 scanf("%s", name);                 th = fopen("teacher.bin", "rb+");                 while (fread(&tc1, sizeof(tc1), 1, th) == 0)                 {                     if (strcmpi(name, tc1.name) == 0)                     {                         printf("Record found \n");                         return (0);                     }                     printf("Record not found \n");                     return (0);                 }                 fflush(stdin);                 fclose(th);                 break;             case 2:                 printf("\tEnter Class of the teacher \n");                 fflush(stdin);                 class = getc(stdin);                 th = fopen("teacher.bin", "rb+");                 if (th == NULL)                 {                     printf("Error opening the file!\n");                     break;                 }                 while (fread(tc1.Class, sizeof(tc1), 1, th) == 1)                 {                     if (strcmpi(tc1.Class, class) == 0)                     {                         printf("Found in class %d \n", tc1.Class);                     }                 }                 printf("Teacher not found \n");                 fclose(th);                 break;             }             printf("enter ( y / Y ) to continue and (q) to exit: ");             fflush(stdin);             state = getc(stdin);         }     } }
